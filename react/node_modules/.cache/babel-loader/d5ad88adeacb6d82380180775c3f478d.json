{"ast":null,"code":"var _jsxFileName = \"/Users/cefgoose/Documents/WEBGEM/react/src/components/Grid/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useContext, useEffect } from \"react\";\nimport ReactGridLayout, { WidthProvider } from \"react-grid-layout\";\nimport \"./styles.css\";\nimport { FileButtons } from \"components/FileButtons\";\nimport { ExportButton } from \"../FileButtons/ExportButton.js\";\nimport { DownloadButton } from \"../FileButtons/DownloadButton.js\";\nimport { EditorTable } from \"components/Table\";\nimport { EditButton } from \"../Edit/EditButton.js\";\nimport { TeamNameField } from \"../TeamName/TeamNameField.js\";\nimport { EditorNameField } from \"../NameFields/EditorNameField.js\";\nimport { UserNameField } from \"../NameFields/UserNameField.js\";\nimport { LineWidthSpin } from \"../Spinners/LineWidthSpin.js\";\nimport { UnUpLineWidthSpin } from \"../Spinners/UnUpLineWidthSpin.js\";\nimport { NodeSizeSpin } from \"../Spinners/NodeSizeSpin.js\";\nimport { UnUpNodeSizeSpin } from \"../Spinners/UnUpNodeSizeSpin.js\";\nimport { LineColorPicker } from \"../ColorPickers/LineColorPicker.js\";\nimport { UnUpLineColorPicker } from \"../ColorPickers/UnUpLineColorPicker.js\";\nimport { NodeColorPicker } from \"../ColorPickers/NodeColorPicker.js\";\nimport { UnUpNodeColorPicker } from \"../ColorPickers/UnUpNodeColorPicker.js\";\nimport { NodeShapeMenu } from \"../ShapeMenu/NodeShapeMenu.js\";\nimport { UnUpNodeShapeMenu } from \"../ShapeMenu/UnUpNodeShapeMenu.js\";\nimport { RemoveButtons } from \"../TableButtons/RemoveButtons.js\";\nimport { MoveButtons } from \"../TableButtons/MoveButtons.js\";\nimport { render } from \"@testing-library/react\";\nimport { DataContext } from \"../../common/DataContext\";\nimport { saveAs } from 'file-saver';\nimport { GEM, MobileLineandNodeWrapper, MobileFileButtonsWrapper, EverythingbutTable, MobileTeamTableWrapper, MobileTeamTableBtns, MobileViewWrapper, AddUpdateEditor, FileButtonsWrapper, UpExDown, UnUpLineandNodeWrapper, LineandNodeWrapper, TeamTable, UnUploadedEditor, TeamTableBtns, AddUpdateBtns } from \"./styles.js\";\nimport { BrowserView, MobileView, isBrowser, isMobile } from 'react-device-detect';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar inEditName, inUserName, inLineWidth, inNodeSize, inLineWidth, inNodeSize, inLineColor, inNodeColor, inNodeShape;\nconst GridLayout = WidthProvider(ReactGridLayout);\n_c = GridLayout;\nexport const Grid = () => {\n  _s();\n\n  const {\n    tableData,\n    setTableData,\n    fileID,\n    generateGemJsonId,\n    selectedRow,\n    setSelectedRow,\n    EditorRow,\n    setEditorRow\n  } = useContext(DataContext);\n  const [state, setState] = useState({\n    tableData: tableData,\n    TeamName: \"\",\n    EditorName: \"\",\n    UserName: \"\",\n    LineColor: '#A9A9A9',\n    LineWidth: 5,\n    NodeColor: \"#D3D3D3\",\n    NodeSize: 5,\n    NodeShape: '/icons/circle.png',\n    UnUpLineColor: 'green',\n    UnUpNodeColor: 'orange',\n    UnUpLineWidth: 5,\n    UnUpNodeSize: 5,\n    UnUpNodeShape: '/icons/square.png',\n    FileIndex: fileID,\n    RowData: {},\n    ShowShapeMenu: false,\n    ShowUnUpShapeMenu: false,\n    ShowLineColorMenu: false,\n    ShowUnUpLineColorMenu: false,\n    ShowNodeColorMenu: false,\n    ShowUnUpNodeColorMenu: false,\n    addEditor: true,\n    newFile: true\n  });\n  useEffect(fileID => {\n    if (fileID == null) {\n      generateGemJsonId();\n    }\n  }, []);\n\n  const GetUnUpload = () => {\n    if (state.TeamName === \"\" && tableData[0].NAME != null) {\n      alert(\"Please enter a valid team name before exporting\");\n      return;\n    }\n\n    if (tableData[0].NAME === null) {\n      alert(\"No Data to export. You must either import an existing .mapscc file to edit, or populate the table with editor data in order to export.\");\n      return;\n    }\n\n    let path = '/api/uploads/' + state.TeamName + \".mapcss\";\n\n    const Downrequest = async () => {\n      return fetch(path, {\n        method: \"GET\",\n        responseType: 'blob'\n      }).then(response => response.blob()).then(blob => saveAs(blob, state.TeamName + \".mapcss\"));\n    };\n\n    let outJson = [{\n      \"TeamName\": state.TeamName,\n      \"LineColor\": state.UnUpLineColor,\n      \"lineWidth\": state.UnUpLineWidth,\n      \"NodeSize\": state.UnUpNodeSize,\n      \"NodeColor\": state.UnUpNodeColor,\n      \"NodeShape\": state.UnUpNodeShape\n    }];\n    outJson = JSON.stringify(outJson);\n    let url = '/api/compile?fileID=' + fileID;\n\n    const goEx = async () => {\n      const response = await fetch(url, {\n        method: \"POST\",\n        body: outJson,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const obj = await response.text();\n        return fetch(path, {\n          method: \"GET\",\n          responseType: 'blob'\n        }).then(response => response.blob()).then(blob => saveAs(blob, state.TeamName + \".mapcss\"));\n      }\n    };\n\n    goEx();\n  };\n\n  const changeFeature = (e, f) => {\n    let outJson = state.RowData;\n\n    switch (f) {\n      case \"LineColor\":\n        setState({ ...state,\n          LineColor: e\n        });\n        break;\n\n      case \"NodeColor\":\n        setState({ ...state,\n          NodeColor: e\n        });\n        break;\n\n      case \"UnUpLineColor\":\n        setState({ ...state,\n          UnUpLineColor: e\n        });\n        break;\n\n      case \"UnUpNodeColor\":\n        setState({ ...state,\n          UnUpNodeColor: e\n        });\n        break;\n\n      case \"NodeShape\":\n        setState({ ...state,\n          NodeShape: e,\n          ShowShapeMenu: false\n        });\n        break;\n\n      case \"UnUpNodeShape\":\n        setState({ ...state,\n          UnUpNodeShape: e,\n          ShowUnUpShapeMenu: false\n        });\n        break;\n\n      case \"+LineWidth\":\n        if (state.LineWidth !== 10) {\n          setState({ ...state,\n            LineWidth: state.LineWidth + 1\n          });\n        }\n\n        break;\n\n      case \"-LineWidth\":\n        if (state.LineWidth !== 0) {\n          setState({ ...state,\n            LineWidth: state.LineWidth - 1\n          });\n        }\n\n        break;\n\n      case \"+UnUpLineWidth\":\n        if (state.UnUpLineWidth !== 10) {\n          setState({ ...state,\n            UnUpLineWidth: state.UnUpLineWidth + 1\n          });\n        }\n\n        break;\n\n      case \"-UnUpLineWidth\":\n        if (state.UnUpLineWidth !== 0) {\n          setState({ ...state,\n            UnUpLineWidth: state.UnUpLineWidth - 1\n          });\n        }\n\n        break;\n\n      case \"+NodeSize\":\n        if (state.NodeSize !== 10) {\n          setState({ ...state,\n            NodeSize: state.NodeSize + 1\n          });\n        }\n\n        break;\n\n      case \"-NodeSize\":\n        if (state.NodeSize !== 0) {\n          setState({ ...state,\n            NodeSize: state.NodeSize - 1\n          });\n        }\n\n        break;\n\n      case \"+UnUpNodeSize\":\n        if (state.UnUpNodeSize !== 10) {\n          setState({ ...state,\n            UnUpNodeSize: state.UnUpNodeSize + 1\n          });\n        }\n\n        break;\n\n      case \"-UnUpNodeSize\":\n        if (state.UnUpNodeSize !== 0) {\n          setState({ ...state,\n            UnUpNodeSize: state.UnUpNodeSize - 1\n          });\n        }\n\n        break;\n\n      case \"TeamName\":\n        if (state.UnUpNodeSize !== 0) {\n          setState({ ...state,\n            TeamName: e\n          });\n        }\n\n        break;\n\n      case \"EditorName\":\n        setState({ ...state,\n          EditorName: e\n        });\n        break;\n\n      case \"UserName\":\n        setState({ ...state,\n          UserName: e\n        });\n        break;\n\n      case \"ShowShapeMenu\":\n        setState({ ...state,\n          ShowShapeMenu: e\n        });\n        break;\n\n      case \"ShowUnUpShapeMenu\":\n        setState({ ...state,\n          ShowUnUpShapeMenu: e\n        });\n        break;\n\n      case \"ShowLineColorMenu\":\n        setState({ ...state,\n          ShowLineColorMenu: e\n        });\n        break;\n\n      case \"ShowUnUpLineColorMenu\":\n        setState({ ...state,\n          ShowUnUpLineColorMenu: e\n        });\n        break;\n\n      case \"ShowNodeColorMenu\":\n        setState({ ...state,\n          ShowNodeColorMenu: e\n        });\n        break;\n\n      case \"ShowUnUpNodeColorMenu\":\n        setState({ ...state,\n          ShowUnUpNodeColorMenu: e\n        });\n        break;\n\n      case \"GetRowData\":\n        setState({ ...state,\n          RowData: e\n        });\n        break;\n\n      case \"Download\":\n        break;\n\n      case \"UnUpData\":\n        setState({ ...state,\n          newFile: false,\n          TeamName: e[0][\"TEAMNAME\"],\n          UnUpNodeColor: e[0][\"UNUPNODECOLOR\"],\n          UnUpNodeSize: e[0][\"UNUPNODESIZE\"],\n          UnUpNodeShape: \"/icons/\" + e[0][\"UNUPNODESHAPE\"] + \".png\",\n          UnUpLineColor: e[0][\"UNUPLINECOLOR\"],\n          UnUpLineWidth: e[0][\"UNUPLINEWIDTH\"]\n        });\n        break;\n\n      case \"RemoveEditor\":\n        outJson = JSON.stringify(outJson);\n\n        const request = async () => {\n          const response = await fetch('/api/table?sub=remove&fileID=' + fileID, {\n            method: \"POST\",\n            body: outJson,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n\n          if (response.ok) {\n            let object = await response.json();\n            object = JSON.stringify(object);\n            object = JSON.parse(object);\n            setTableData(object);\n          }\n        };\n\n        request();\n        break;\n\n      case \"RemoveAll\":\n        const removeRequest = async () => {\n          const response = await fetch('/api/removeAll?fileID=' + fileID, {\n            method: \"GET\"\n          });\n\n          if (response.ok) {\n            let object = await response.json();\n            object = JSON.stringify(object);\n            object = JSON.parse(object);\n            setTableData(object);\n          }\n        };\n\n        removeRequest();\n        setState({ ...state,\n          newFile: true,\n          TeamName: \"\"\n        });\n        break;\n\n      case \"MoveUp\":\n        outJson = JSON.stringify(outJson);\n        console.log(outJson);\n\n        const moveUpRequest = async () => {\n          const response = await fetch('/api/table?sub=moveUp&fileID=' + fileID, {\n            method: \"POST\",\n            body: outJson,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n\n          if (response.ok) {\n            let object = await response.json();\n            object = JSON.stringify(object);\n            object = JSON.parse(object);\n            setTableData(object);\n          }\n        };\n\n        moveUpRequest();\n\n        if (selectedRow != 0) {// setSelectedRow(selectedRow - 1);\n        }\n\n        console.log(selectedRow);\n        break;\n\n      case \"MoveDown\":\n        outJson = JSON.stringify(outJson);\n\n        const moveDownRequest = async () => {\n          const response = await fetch('/api/table?sub=moveDown&fileID=' + fileID, {\n            method: \"POST\",\n            body: outJson,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n\n          if (response.ok) {\n            let object = await response.json();\n            object = JSON.stringify(object);\n            object = JSON.parse(object);\n            setSelectedRow(selectedRow + 1);\n            setEditorRow(selectedRow + 1);\n            setTableData(object);\n          }\n        };\n\n        moveDownRequest();\n        outJson = JSON.stringify({\n          'rowId': selectedRow + 1,\n          'editor': selectedRow + 1\n        });\n        setState({ ...state,\n          outJson\n        });\n        setSelectedRow(selectedRow + 1);\n        break;\n\n      case \"Clear\":\n        setState({ ...state,\n          EditorName: \"\",\n          UserName: \"\",\n          LineColor: '#A9A9A9',\n          LineWidth: 5,\n          NodeColor: \"#D3D3D3\",\n          NodeSize: 5,\n          NodeShape: '/icons/circle.png'\n        });\n        break;\n\n      default:\n    }\n  };\n\n  function isEmpty(obj) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) return false;\n    }\n\n    return true;\n  }\n\n  const ChangeAddButton = () => {\n    let outJson = state.RowData;\n    var checkJson;\n    console.log(state.RowData);\n    console.log(outJson);\n\n    if (Object.entries(outJson).length !== 0) {\n      checkJson = JSON.parse(outJson);\n    }\n\n    if (!checkJson) {\n      alert(\"Invalid Selection\");\n    } else {\n      setState({ ...state,\n        addEditor: false\n      }); //\n    }\n  };\n\n  useEffect(() => {\n    if (state.addEditor !== true) {\n      EditEditor(); // console.log(state)\n    } // else if(!state.EditorName){\n    // EditEditor();\n    // }\n\n  }, [state.addEditor]);\n\n  const EditEditor = () => {\n    let outJson = state.RowData; // console.log(state.RowData)\n\n    let checkJson = JSON.parse(outJson);\n    inEditName = checkJson['editor']['NAME'];\n    console.log(inEditName);\n    inUserName = checkJson['editor']['UID'];\n    inLineWidth = checkJson['editor']['LINEWIDTH'];\n    inNodeSize = checkJson['editor']['NODESIZE'];\n    inLineColor = checkJson['editor']['LINECOLOR'];\n    inNodeColor = checkJson['editor']['NODECOLOR'];\n    inNodeShape = checkJson['editor']['NODESHAPE'];\n    setState({ ...state,\n      EditorName: inEditName,\n      UserName: inUserName,\n      LineWidth: parseInt(inLineWidth),\n      NodeSize: parseInt(inNodeSize),\n      LineColor: inLineColor,\n      NodeShape: inNodeShape,\n      NodeColor: inNodeColor\n    });\n  };\n\n  const updateEditor = e => {\n    let sub = e;\n\n    if (state.EditorName === \"\" && e === \"add\") {\n      alert(\"Please enter a valid Name for the Editor\");\n      return;\n    }\n\n    if (state.UserName === \"\" && e === \"add\") {\n      alert(\"Please enter a valid OSM Username\");\n      return;\n    } else if (state.EditorName === \"Mappy McMappington III\" && e === \"update\") {\n      alert(\"You must first select an Editor from the table to update. \");\n      return;\n    }\n\n    let outJson = state.RowData;\n    var checkJson;\n\n    if (Object.entries(outJson).length !== 0) {\n      checkJson = JSON.parse(outJson);\n    }\n\n    var index;\n\n    if (checkJson) {\n      index = checkJson[\"rowId\"];\n    }\n\n    let entry = {\n      'NAME': state.EditorName,\n      \"UID\": state.UserName,\n      'NODESHAPE': state.NodeShape,\n      'NODECOLOR': state.NodeColor,\n      \"NODESIZE\": state.NodeSize,\n      'LINEWIDTH': state.LineWidth,\n      \"LINECOLOR\": state.LineColor\n    };\n    entry = JSON.stringify(entry);\n    let url = '/api/update?sub=' + sub + '&index=' + index + '&infile=' + fileID + \"&newFile=\" + state.newFile;\n\n    const update = async () => {\n      const response = await fetch(url, {\n        method: \"POST\",\n        body: entry,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const obj = await response.json();\n        setTableData(obj);\n      }\n    };\n\n    update();\n    setState({ ...state,\n      EditorName: \"\",\n      UserName: \"\",\n      LineColor: '#A9A9A9',\n      LineWidth: 5,\n      NodeColor: \"#D3D3D3\",\n      NodeSize: 5,\n      NodeShape: '/icons/circle.png',\n      addEditor: true\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Gem-div\",\n    children: [/*#__PURE__*/_jsxDEV(GEM, {\n      children: [/*#__PURE__*/_jsxDEV(TeamTable, {\n        children: tableData ? /*#__PURE__*/_jsxDEV(EditorTable, {\n          useData: tableData,\n          action: changeFeature\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 31\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"importLabelDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Import/Export:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Team Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TeamNameField, {\n          action: changeFeature,\n          value: state.TeamName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(FileButtons, {\n          fileID: state.fileID,\n          action: changeFeature\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n          action: GetUnUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(EverythingbutTable, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"MenuLabel\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Non-uploaded edits:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UnUpLineWidthSpin, {\n          num: state.UnUpLineWidth,\n          action: changeFeature\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UnUpNodeSizeSpin, {\n          num: state.UnUpNodeSize,\n          action: changeFeature\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UnUpLineandNodeWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(UnUpLineColorPicker, {\n            action: changeFeature,\n            color: state.UnUpLineColor,\n            showMenu: state.ShowUnUpLineColorMenu\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UnUpNodeColorPicker, {\n            action: changeFeature,\n            color: state.UnUpNodeColor,\n            showMenu: state.ShowUnUpNodeColorMenu\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UnUpNodeShapeMenu, {\n          action: changeFeature,\n          color: state.UnUpNodeColor,\n          src: state.UnUpNodeShape,\n          ShowMenu: state.ShowUnUpShapeMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"MenuLabel\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Add/Update Editor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddUpdateBtns, {\n          children: /*#__PURE__*/_jsxDEV(EditButton, {\n            action: changeFeature,\n            action2: updateEditor,\n            action3: ChangeAddButton,\n            bool: state.addEditor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AddUpdateEditor, {\n          children: [/*#__PURE__*/_jsxDEV(EditorNameField, {\n            action: changeFeature,\n            value: state.EditorName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserNameField, {\n            action: changeFeature,\n            value: state.UserName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LineWidthSpin, {\n            action: changeFeature,\n            num: state.LineWidth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NodeSizeSpin, {\n            action: changeFeature,\n            num: state.NodeSize\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LineandNodeWrapper, {\n            children: [/*#__PURE__*/_jsxDEV(LineColorPicker, {\n              action: changeFeature,\n              color: state.LineColor,\n              showMenu: state.ShowLineColorMenu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(NodeColorPicker, {\n              action: changeFeature,\n              color: state.NodeColor,\n              showMenu: state.ShowNodeColorMenu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(NodeShapeMenu, {\n            action: changeFeature,\n            color: state.NodeColor,\n            src: state.NodeShape,\n            ShowMenu: state.ShowShapeMenu\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Grid, \"JGyIg/aF2dmecSqQmtuvlPWy0zQ=\");\n\n_c2 = Grid;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GridLayout\");\n$RefreshReg$(_c2, \"Grid\");","map":{"version":3,"sources":["/Users/cefgoose/Documents/WEBGEM/react/src/components/Grid/index.js"],"names":["React","Component","useState","useContext","useEffect","ReactGridLayout","WidthProvider","FileButtons","ExportButton","DownloadButton","EditorTable","EditButton","TeamNameField","EditorNameField","UserNameField","LineWidthSpin","UnUpLineWidthSpin","NodeSizeSpin","UnUpNodeSizeSpin","LineColorPicker","UnUpLineColorPicker","NodeColorPicker","UnUpNodeColorPicker","NodeShapeMenu","UnUpNodeShapeMenu","RemoveButtons","MoveButtons","render","DataContext","saveAs","GEM","MobileLineandNodeWrapper","MobileFileButtonsWrapper","EverythingbutTable","MobileTeamTableWrapper","MobileTeamTableBtns","MobileViewWrapper","AddUpdateEditor","FileButtonsWrapper","UpExDown","UnUpLineandNodeWrapper","LineandNodeWrapper","TeamTable","UnUploadedEditor","TeamTableBtns","AddUpdateBtns","BrowserView","MobileView","isBrowser","isMobile","inEditName","inUserName","inLineWidth","inNodeSize","inLineColor","inNodeColor","inNodeShape","GridLayout","Grid","tableData","setTableData","fileID","generateGemJsonId","selectedRow","setSelectedRow","EditorRow","setEditorRow","state","setState","TeamName","EditorName","UserName","LineColor","LineWidth","NodeColor","NodeSize","NodeShape","UnUpLineColor","UnUpNodeColor","UnUpLineWidth","UnUpNodeSize","UnUpNodeShape","FileIndex","RowData","ShowShapeMenu","ShowUnUpShapeMenu","ShowLineColorMenu","ShowUnUpLineColorMenu","ShowNodeColorMenu","ShowUnUpNodeColorMenu","addEditor","newFile","GetUnUpload","NAME","alert","path","Downrequest","fetch","method","responseType","then","response","blob","outJson","JSON","stringify","url","goEx","body","headers","ok","obj","text","changeFeature","e","f","request","object","json","parse","removeRequest","console","log","moveUpRequest","moveDownRequest","isEmpty","key","hasOwnProperty","ChangeAddButton","checkJson","Object","entries","length","EditEditor","parseInt","updateEditor","sub","index","entry","update"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,SAAjD,QAAkE,OAAlE;AACA,OAAOC,eAAP,IAA0BC,aAA1B,QAA+C,mBAA/C;AACA,OAAO,cAAP;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,YAAT,QAA6B,gCAA7B;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,SAASC,eAAT,QAAgC,kCAAhC;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,SAASC,aAAT,QAA6B,8BAA7B;AACA,SAASC,iBAAT,QAAiC,kCAAjC;AACA,SAASC,YAAT,QAA4B,6BAA5B;AACA,SAASC,gBAAT,QAAgC,iCAAhC;AACA,SAASC,eAAT,QAAgC,oCAAhC;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,SAASC,eAAT,QAAgC,oCAAhC;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,SAASC,iBAAT,QAAkC,mCAAlC;AACA,SAASC,aAAT,QAA8B,kCAA9B;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,GAAT,EAAcC,wBAAd,EAAuCC,wBAAvC,EAAiEC,kBAAjE,EAAqFC,sBAArF,EAA6GC,mBAA7G,EAAiIC,iBAAjI,EAAoJC,eAApJ,EAAqKC,kBAArK,EAAyLC,QAAzL,EAAmMC,sBAAnM,EAA2NC,kBAA3N,EAA+OC,SAA/O,EAA0PC,gBAA1P,EAA4QC,aAA5Q,EAA2RC,aAA3R,QAAiT,aAAjT;AACA,SAAQC,WAAR,EAAqBC,UAArB,EAAiCC,SAAjC,EAA4CC,QAA5C,QAA2D,qBAA3D;;AAKA,IAAIC,UAAJ,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyCC,UAAzC,EAAqDD,WAArD,EAAkEC,UAAlE,EAA8EC,WAA9E,EAA2FC,WAA3F,EAAwGC,WAAxG;AAEA,MAAMC,UAAU,GAAGnD,aAAa,CAACD,eAAD,CAAhC;KAAMoD,U;AAEN,OAAO,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACxB,QAAM;AAAEC,IAAAA,SAAF;AACNC,IAAAA,YADM;AAENC,IAAAA,MAFM;AAGNC,IAAAA,iBAHM;AAINC,IAAAA,WAJM;AAKNC,IAAAA,cALM;AAMNC,IAAAA,SANM;AAONC,IAAAA;AAPM,MAQF/D,UAAU,CAACyB,WAAD,CARd;AAUA,QAAM,CAACuC,KAAD,EAAQC,QAAR,IAAoBlE,QAAQ,CAAC;AACjCyD,IAAAA,SAAS,EAACA,SADuB;AAEjCU,IAAAA,QAAQ,EAAC,EAFwB;AAGjCC,IAAAA,UAAU,EAAC,EAHsB;AAIjCC,IAAAA,QAAQ,EAAC,EAJwB;AAKjCC,IAAAA,SAAS,EAAE,SALsB;AAMjCC,IAAAA,SAAS,EAAE,CANsB;AAOjCC,IAAAA,SAAS,EAAC,SAPuB;AAQjCC,IAAAA,QAAQ,EAAC,CARwB;AASjCC,IAAAA,SAAS,EAAC,mBATuB;AAUjCC,IAAAA,aAAa,EAAE,OAVkB;AAWjCC,IAAAA,aAAa,EAAE,QAXkB;AAYjCC,IAAAA,aAAa,EAAC,CAZmB;AAajCC,IAAAA,YAAY,EAAC,CAboB;AAcjCC,IAAAA,aAAa,EAAC,mBAdmB;AAejCC,IAAAA,SAAS,EAAErB,MAfsB;AAgBjCsB,IAAAA,OAAO,EAAC,EAhByB;AAiBjCC,IAAAA,aAAa,EAAC,KAjBmB;AAkBjCC,IAAAA,iBAAiB,EAAC,KAlBe;AAmBjCC,IAAAA,iBAAiB,EAAC,KAnBe;AAoBjCC,IAAAA,qBAAqB,EAAC,KApBW;AAqBjCC,IAAAA,iBAAiB,EAAC,KArBe;AAsBjCC,IAAAA,qBAAqB,EAAC,KAtBW;AAuBjCC,IAAAA,SAAS,EAAC,IAvBuB;AAwBjCC,IAAAA,OAAO,EAAC;AAxByB,GAAD,CAAlC;AA4BAvF,EAAAA,SAAS,CAAEyD,MAAD,IAAY;AACpB,QAAIA,MAAM,IAAI,IAAd,EAAoB;AAClBC,MAAAA,iBAAiB;AAClB;AACF,GAJQ,EAIN,EAJM,CAAT;;AAME,QAAM8B,WAAW,GAAC,MAAK;AACrB,QAAIzB,KAAK,CAACE,QAAN,KAAkB,EAAlB,IAAwBV,SAAS,CAAC,CAAD,CAAT,CAAakC,IAAb,IAAoB,IAAhD,EAAqD;AACnDC,MAAAA,KAAK,CAAC,iDAAD,CAAL;AACA;AACD;;AACD,QAAInC,SAAS,CAAC,CAAD,CAAT,CAAakC,IAAb,KAAqB,IAAzB,EAA8B;AAC5BC,MAAAA,KAAK,CAAC,wIAAD,CAAL;AACA;AACD;;AACD,QAAIC,IAAI,GAAG,kBAAkB5B,KAAK,CAACE,QAAxB,GAAmC,SAA9C;;AACA,UAAM2B,WAAW,GAAG,YAAY;AAC9B,aAAOC,KAAK,CAACF,IAAD,EAAO;AAACG,QAAAA,MAAM,EAAE,KAAT;AAAeC,QAAAA,YAAY,EAAE;AAA7B,OAAP,CAAL,CACNC,IADM,CACDC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADT,EAENF,IAFM,CAEDE,IAAI,IAAIzE,MAAM,CAACyE,IAAD,EAAOnC,KAAK,CAACE,QAAN,GAAiB,SAAxB,CAFb,CAAP;AAGD,KAJD;;AAKA,QAAIkC,OAAO,GAAE,CAAC;AAAC,kBAAWpC,KAAK,CAACE,QAAlB;AAA2B,mBAAYF,KAAK,CAACU,aAA7C;AAA2D,mBAAYV,KAAK,CAACY,aAA7E;AAA2F,kBAAWZ,KAAK,CAACa,YAA5G;AAAyH,mBAAYb,KAAK,CAACW,aAA3I;AAAyJ,mBAAYX,KAAK,CAACc;AAA3K,KAAD,CAAb;AACAsB,IAAAA,OAAO,GAAEC,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAT;AACA,QAAIG,GAAG,GAAE,yBAAuB7C,MAAhC;;AACA,UAAM8C,IAAI,GAAG,YAAY;AACvB,YAAMN,QAAQ,GAAI,MAAMJ,KAAK,CAACS,GAAD,EAAM;AAACR,QAAAA,MAAM,EAAE,MAAT;AAAiBU,QAAAA,IAAI,EAAEL,OAAvB;AAAgCM,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB;AAAzC,OAAN,CAA7B;;AACA,UAAGR,QAAQ,CAACS,EAAZ,EAAe;AACb,cAAMC,GAAG,GAAE,MAAMV,QAAQ,CAACW,IAAT,EAAjB;AACA,eAAOf,KAAK,CAACF,IAAD,EAAO;AAACG,UAAAA,MAAM,EAAE,KAAT;AAAeC,UAAAA,YAAY,EAAE;AAA7B,SAAP,CAAL,CACNC,IADM,CACDC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADT,EAENF,IAFM,CAEDE,IAAI,IAAIzE,MAAM,CAACyE,IAAD,EAAOnC,KAAK,CAACE,QAAN,GAAiB,SAAxB,CAFb,CAAP;AAGD;AAAC,KAPJ;;AAQEsC,IAAAA,IAAI;AACP,GA3BD;;AA6BA,QAAMM,aAAa,GAAC,CAACC,CAAD,EAAGC,CAAH,KAAQ;AAC5B,QAAIZ,OAAO,GAAGpC,KAAK,CAACgB,OAApB;;AACA,YAAOgC,CAAP;AACE,WAAK,WAAL;AACE/C,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUK,UAAAA,SAAS,EAAC0C;AAApB,SAAD,CAAR;AACA;;AAEF,WAAK,WAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUO,UAAAA,SAAS,EAACwC;AAApB,SAAD,CAAR;AACA;;AAEF,WAAK,eAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUU,UAAAA,aAAa,EAACqC;AAAxB,SAAD,CAAR;AACA;;AAEF,WAAK,eAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUW,UAAAA,aAAa,EAACoC;AAAxB,SAAD,CAAR;AACA;;AAEF,WAAK,WAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUS,UAAAA,SAAS,EAACsC,CAApB;AAAsB9B,UAAAA,aAAa,EAAC;AAApC,SAAD,CAAR;AACA;;AAEF,WAAK,eAAL;AACEhB,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUc,UAAAA,aAAa,EAACiC,CAAxB;AAA0B7B,UAAAA,iBAAiB,EAAC;AAA5C,SAAD,CAAR;AAEA;;AAEF,WAAK,YAAL;AACE,YAAIlB,KAAK,CAACM,SAAN,KAAoB,EAAxB,EAA2B;AACzBL,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWM,YAAAA,SAAS,EAACN,KAAK,CAACM,SAAN,GAAiB;AAAtC,WAAD,CAAR;AAAmD;;AACrD;;AAEF,WAAK,YAAL;AACE,YAAIN,KAAK,CAACM,SAAN,KAAoB,CAAxB,EAA0B;AACxBL,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWM,YAAAA,SAAS,EAACN,KAAK,CAACM,SAAN,GAAiB;AAAtC,WAAD,CAAR;AAAmD;;AACrD;;AAEF,WAAK,gBAAL;AACE,YAAIN,KAAK,CAACY,aAAN,KAAwB,EAA5B,EAA+B;AAC7BX,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWY,YAAAA,aAAa,EAACZ,KAAK,CAACY,aAAN,GAAqB;AAA9C,WAAD,CAAR;AAA2D;;AAC7D;;AAEF,WAAK,gBAAL;AACE,YAAIZ,KAAK,CAACY,aAAN,KAAwB,CAA5B,EAA8B;AAC5BX,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWY,YAAAA,aAAa,EAACZ,KAAK,CAACY,aAAN,GAAqB;AAA9C,WAAD,CAAR;AAA2D;;AAC7D;;AAEF,WAAK,WAAL;AACE,YAAIZ,KAAK,CAACQ,QAAN,KAAmB,EAAvB,EAA0B;AACxBP,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWQ,YAAAA,QAAQ,EAACR,KAAK,CAACQ,QAAN,GAAgB;AAApC,WAAD,CAAR;AAAiD;;AACnD;;AAEF,WAAK,WAAL;AACE,YAAIR,KAAK,CAACQ,QAAN,KAAmB,CAAvB,EAAyB;AACvBP,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWQ,YAAAA,QAAQ,EAACR,KAAK,CAACQ,QAAN,GAAgB;AAApC,WAAD,CAAR;AAAiD;;AACrD;;AAEA,WAAK,eAAL;AACG,YAAIR,KAAK,CAACa,YAAN,KAAuB,EAA3B,EAA8B;AAC7BZ,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWa,YAAAA,YAAY,EAACb,KAAK,CAACa,YAAN,GAAoB;AAA5C,WAAD,CAAR;AAAyD;;AAC7D;;AAEA,WAAK,eAAL;AACG,YAAIb,KAAK,CAACa,YAAN,KAAuB,CAA3B,EAA6B;AAC5BZ,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWa,YAAAA,YAAY,EAACb,KAAK,CAACa,YAAN,GAAoB;AAA5C,WAAD,CAAR;AAAyD;;AAC7D;;AAEA,WAAK,UAAL;AACG,YAAIb,KAAK,CAACa,YAAN,KAAuB,CAA3B,EAA6B;AAC5BZ,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWE,YAAAA,QAAQ,EAAC6C;AAApB,WAAD,CAAR;AAAiC;;AACrC;;AAEA,WAAK,YAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWG,UAAAA,UAAU,EAAC4C;AAAtB,SAAD,CAAR;AACF;;AAEA,WAAK,UAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWI,UAAAA,QAAQ,EAAC2C;AAApB,SAAD,CAAR;AACF;;AAEA,WAAK,eAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWiB,UAAAA,aAAa,EAAC8B;AAAzB,SAAD,CAAR;AACF;;AAEA,WAAK,mBAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWkB,UAAAA,iBAAiB,EAAC6B;AAA7B,SAAD,CAAR;AACF;;AAEA,WAAK,mBAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWmB,UAAAA,iBAAiB,EAAC4B;AAA7B,SAAD,CAAR;AACF;;AAEA,WAAK,uBAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWoB,UAAAA,qBAAqB,EAAC2B;AAAjC,SAAD,CAAR;AACF;;AAEA,WAAK,mBAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWqB,UAAAA,iBAAiB,EAAC0B;AAA7B,SAAD,CAAR;AACF;;AAEA,WAAK,uBAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWsB,UAAAA,qBAAqB,EAACyB;AAAjC,SAAD,CAAR;AACF;;AAEA,WAAK,YAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWgB,UAAAA,OAAO,EAAC+B;AAAnB,SAAD,CAAR;AACF;;AAEA,WAAK,UAAL;AACA;;AAEA,WAAK,UAAL;AACE9C,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AACTwB,UAAAA,OAAO,EAAC,KADC;AAETtB,UAAAA,QAAQ,EAAC6C,CAAC,CAAC,CAAD,CAAD,CAAK,UAAL,CAFA;AAGTpC,UAAAA,aAAa,EAACoC,CAAC,CAAC,CAAD,CAAD,CAAK,eAAL,CAHL;AAITlC,UAAAA,YAAY,EAACkC,CAAC,CAAC,CAAD,CAAD,CAAK,cAAL,CAJJ;AAKTjC,UAAAA,aAAa,EAAC,YAAUiC,CAAC,CAAC,CAAD,CAAD,CAAK,eAAL,CAAV,GAAgC,MALrC;AAMTrC,UAAAA,aAAa,EAACqC,CAAC,CAAC,CAAD,CAAD,CAAK,eAAL,CANL;AAOTnC,UAAAA,aAAa,EAACmC,CAAC,CAAC,CAAD,CAAD,CAAK,eAAL;AAPL,SAAD,CAAR;AAUF;;AAGA,WAAK,cAAL;AACIX,QAAAA,OAAO,GAACC,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAR;;AACA,cAAMa,OAAO,GAAG,YAAY;AAC5B,gBAAMf,QAAQ,GAAI,MAAMJ,KAAK,CAAC,kCAAgCpC,MAAjC,EAAyC;AAACqC,YAAAA,MAAM,EAAE,MAAT;AAAiBU,YAAAA,IAAI,EAAEL,OAAvB;AAAgCM,YAAAA,OAAO,EAAE;AAAC,8BAAgB;AAAjB;AAAzC,WAAzC,CAA7B;;AACA,cAAGR,QAAQ,CAACS,EAAZ,EAAe;AACb,gBAAIO,MAAM,GAAG,MAAMhB,QAAQ,CAACiB,IAAT,EAAnB;AACAD,YAAAA,MAAM,GAACb,IAAI,CAACC,SAAL,CAAeY,MAAf,CAAP;AACAA,YAAAA,MAAM,GAACb,IAAI,CAACe,KAAL,CAAWF,MAAX,CAAP;AACAzD,YAAAA,YAAY,CAACyD,MAAD,CAAZ;AACD;AAAC,SAPF;;AAQAD,QAAAA,OAAO;AACX;;AAEA,WAAK,WAAL;AACE,cAAMI,aAAa,GAAG,YAAY;AAClC,gBAAMnB,QAAQ,GAAI,MAAMJ,KAAK,CAAC,2BAAyBpC,MAA1B,EAAkC;AAACqC,YAAAA,MAAM,EAAE;AAAT,WAAlC,CAA7B;;AACA,cAAGG,QAAQ,CAACS,EAAZ,EAAe;AACb,gBAAIO,MAAM,GAAG,MAAMhB,QAAQ,CAACiB,IAAT,EAAnB;AACAD,YAAAA,MAAM,GAACb,IAAI,CAACC,SAAL,CAAeY,MAAf,CAAP;AACAA,YAAAA,MAAM,GAACb,IAAI,CAACe,KAAL,CAAWF,MAAX,CAAP;AACAzD,YAAAA,YAAY,CAACyD,MAAD,CAAZ;AACD;AAAC,SAPF;;AAQAG,QAAAA,aAAa;AACbpD,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACPwB,UAAAA,OAAO,EAAC,IADD;AAEPtB,UAAAA,QAAQ,EAAC;AAFF,SAAD,CAAR;AAKF;;AAEA,WAAK,QAAL;AACEkC,QAAAA,OAAO,GAACC,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAR;AACAkB,QAAAA,OAAO,CAACC,GAAR,CAAYnB,OAAZ;;AACA,cAAMoB,aAAa,GAAG,YAAY;AAClC,gBAAMtB,QAAQ,GAAI,MAAMJ,KAAK,CAAC,kCAAgCpC,MAAjC,EAAwC;AAACqC,YAAAA,MAAM,EAAE,MAAT;AAAiBU,YAAAA,IAAI,EAAEL,OAAvB;AAAgCM,YAAAA,OAAO,EAAE;AAAC,8BAAgB;AAAjB;AAAzC,WAAxC,CAA7B;;AACA,cAAGR,QAAQ,CAACS,EAAZ,EAAe;AACb,gBAAIO,MAAM,GAAG,MAAMhB,QAAQ,CAACiB,IAAT,EAAnB;AACAD,YAAAA,MAAM,GAACb,IAAI,CAACC,SAAL,CAAeY,MAAf,CAAP;AACAA,YAAAA,MAAM,GAACb,IAAI,CAACe,KAAL,CAAWF,MAAX,CAAP;AACAzD,YAAAA,YAAY,CAACyD,MAAD,CAAZ;AACD;AAAC,SAPF;;AAQAM,QAAAA,aAAa;;AACb,YAAI5D,WAAW,IAAI,CAAnB,EAAqB,CACnB;AACC;;AACH0D,QAAAA,OAAO,CAACC,GAAR,CAAY3D,WAAZ;AAEF;;AAEA,WAAK,UAAL;AACEwC,QAAAA,OAAO,GAACC,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAR;;AACA,cAAMqB,eAAe,GAAG,YAAY;AACpC,gBAAMvB,QAAQ,GAAI,MAAMJ,KAAK,CAAC,oCAAkCpC,MAAnC,EAA0C;AAACqC,YAAAA,MAAM,EAAE,MAAT;AAAiBU,YAAAA,IAAI,EAAEL,OAAvB;AAAgCM,YAAAA,OAAO,EAAE;AAAC,8BAAgB;AAAjB;AAAzC,WAA1C,CAA7B;;AACA,cAAGR,QAAQ,CAACS,EAAZ,EAAe;AACb,gBAAIO,MAAM,GAAG,MAAMhB,QAAQ,CAACiB,IAAT,EAAnB;AACAD,YAAAA,MAAM,GAACb,IAAI,CAACC,SAAL,CAAeY,MAAf,CAAP;AACAA,YAAAA,MAAM,GAACb,IAAI,CAACe,KAAL,CAAWF,MAAX,CAAP;AACArD,YAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACAG,YAAAA,YAAY,CAACH,WAAW,GAAE,CAAd,CAAZ;AACAH,YAAAA,YAAY,CAACyD,MAAD,CAAZ;AACD;AAAC,SATF;;AAUAO,QAAAA,eAAe;AACfrB,QAAAA,OAAO,GAAGC,IAAI,CAACC,SAAL,CACR;AACE,mBAAS1C,WAAW,GAAE,CADxB;AAEE,oBAAUA,WAAW,GAAE;AAFzB,SADQ,CAAV;AAMEK,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWoC,UAAAA;AAAX,SAAD,CAAR;AAEFvC,QAAAA,cAAc,CAACD,WAAW,GAAE,CAAd,CAAd;AAEF;;AAEA,WAAK,OAAL;AACEK,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACTG,UAAAA,UAAU,EAAE,EADH;AAETC,UAAAA,QAAQ,EAAE,EAFD;AAGTC,UAAAA,SAAS,EAAE,SAHF;AAITC,UAAAA,SAAS,EAAE,CAJF;AAKTC,UAAAA,SAAS,EAAC,SALD;AAMTC,UAAAA,QAAQ,EAAC,CANA;AAOTC,UAAAA,SAAS,EAAC;AAPD,SAAD,CAAR;AASF;;AACA;AAjNF;AAoND,GAtNC;;AAwNF,WAASiD,OAAT,CAAiBd,GAAjB,EAAsB;AACpB,SAAI,IAAIe,GAAR,IAAef,GAAf,EAAoB;AAChB,UAAGA,GAAG,CAACgB,cAAJ,CAAmBD,GAAnB,CAAH,EACI,OAAO,KAAP;AACP;;AACD,WAAO,IAAP;AACH;;AAGG,QAAME,eAAe,GAAC,MAAI;AACxB,QAAIzB,OAAO,GAAGpC,KAAK,CAACgB,OAApB;AACA,QAAI8C,SAAJ;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYvD,KAAK,CAACgB,OAAlB;AACAsC,IAAAA,OAAO,CAACC,GAAR,CAAYnB,OAAZ;;AACA,QAAG2B,MAAM,CAACC,OAAP,CAAe5B,OAAf,EAAwB6B,MAAxB,KAAmC,CAAtC,EAAwC;AACtCH,MAAAA,SAAS,GAAGzB,IAAI,CAACe,KAAL,CAAWhB,OAAX,CAAZ;AACD;;AACC,QAAK,CAAC0B,SAAN,EAAgB;AACZnC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACH,KAFD,MAIA;AACF1B,MAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAWuB,QAAAA,SAAS,EAAC;AAArB,OAAD,CAAR,CADE,CAEH;AACA;AACF,GAhBC;;AAkBFtF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG+D,KAAK,CAACuB,SAAN,KAAoB,IAAvB,EAA4B;AAC1B2C,MAAAA,UAAU,GADgB,CAE1B;AACD,KAJa,CAKd;AACE;AACF;;AAGD,GAVQ,EAUN,CAAClE,KAAK,CAACuB,SAAP,CAVM,CAAT;;AAYE,QAAM2C,UAAU,GAAG,MAAM;AACvB,QAAI9B,OAAO,GAAGpC,KAAK,CAACgB,OAApB,CADuB,CAEvB;;AACA,QAAI8C,SAAS,GAAEzB,IAAI,CAACe,KAAL,CAAWhB,OAAX,CAAf;AACArD,IAAAA,UAAU,GAAG+E,SAAS,CAAC,QAAD,CAAT,CAAoB,MAApB,CAAb;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYxE,UAAZ;AACAC,IAAAA,UAAU,GAAG8E,SAAS,CAAC,QAAD,CAAT,CAAoB,KAApB,CAAb;AACA7E,IAAAA,WAAW,GAAG6E,SAAS,CAAC,QAAD,CAAT,CAAoB,WAApB,CAAd;AACA5E,IAAAA,UAAU,GAAG4E,SAAS,CAAC,QAAD,CAAT,CAAoB,UAApB,CAAb;AACA3E,IAAAA,WAAW,GAAC2E,SAAS,CAAC,QAAD,CAAT,CAAoB,WAApB,CAAZ;AACA1E,IAAAA,WAAW,GAAC0E,SAAS,CAAC,QAAD,CAAT,CAAoB,WAApB,CAAZ;AACAzE,IAAAA,WAAW,GAACyE,SAAS,CAAC,QAAD,CAAT,CAAoB,WAApB,CAAZ;AACA7D,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACPG,MAAAA,UAAU,EAAEpB,UADL;AAEPqB,MAAAA,QAAQ,EAAEpB,UAFH;AAGPsB,MAAAA,SAAS,EAAE6D,QAAQ,CAAClF,WAAD,CAHZ;AAIPuB,MAAAA,QAAQ,EAAE2D,QAAQ,CAACjF,UAAD,CAJX;AAKPmB,MAAAA,SAAS,EAAElB,WALJ;AAMPsB,MAAAA,SAAS,EAACpB,WANH;AAOPkB,MAAAA,SAAS,EAACnB;AAPH,KAAD,CAAR;AAUD,GAtBD;;AAwBA,QAAMgF,YAAY,GAAIrB,CAAD,IAAO;AAC1B,QAAIsB,GAAG,GAAGtB,CAAV;;AACA,QAAI/C,KAAK,CAACG,UAAN,KAAqB,EAArB,IAA2B4C,CAAC,KAAK,KAArC,EAA2C;AACzCpB,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACD;;AACD,QAAI3B,KAAK,CAACI,QAAN,KAAmB,EAAnB,IAAyB2C,CAAC,KAAK,KAAnC,EAAyC;AACrCpB,MAAAA,KAAK,CAAC,mCAAD,CAAL;AACA;AAEH,KAJD,MAKK,IAAG3B,KAAK,CAACG,UAAN,KAAqB,wBAArB,IAAiD4C,CAAC,KAAI,QAAzD,EAAkE;AACrEpB,MAAAA,KAAK,CAAC,4DAAD,CAAL;AACA;AACD;;AAEH,QAAIS,OAAO,GAAGpC,KAAK,CAACgB,OAApB;AACA,QAAI8C,SAAJ;;AACA,QAAGC,MAAM,CAACC,OAAP,CAAe5B,OAAf,EAAwB6B,MAAxB,KAAmC,CAAtC,EAAwC;AACvCH,MAAAA,SAAS,GAAGzB,IAAI,CAACe,KAAL,CAAWhB,OAAX,CAAZ;AACA;;AACD,QAAIkC,KAAJ;;AACA,QAAIR,SAAJ,EAAc;AACZQ,MAAAA,KAAK,GAAGR,SAAS,CAAC,OAAD,CAAjB;AACD;;AACD,QAAIS,KAAK,GAAG;AAAC,cAAOvE,KAAK,CAACG,UAAd;AAAyB,aAAMH,KAAK,CAACI,QAArC;AAA8C,mBAAYJ,KAAK,CAACS,SAAhE;AAA0E,mBAAYT,KAAK,CAACO,SAA5F;AAAsG,kBAAWP,KAAK,CAACQ,QAAvH;AAAgI,mBAAYR,KAAK,CAACM,SAAlJ;AAA4J,mBAAYN,KAAK,CAACK;AAA9K,KAAZ;AACAkE,IAAAA,KAAK,GAAClC,IAAI,CAACC,SAAL,CAAeiC,KAAf,CAAN;AACA,QAAIhC,GAAG,GAAE,qBAAmB8B,GAAnB,GAAuB,SAAvB,GAAiCC,KAAjC,GAAuC,UAAvC,GAAkD5E,MAAlD,GAAyD,WAAzD,GAAqEM,KAAK,CAACwB,OAApF;;AACA,UAAMgD,MAAM,GAAG,YAAY;AACzB,YAAMtC,QAAQ,GAAI,MAAMJ,KAAK,CAACS,GAAD,EAAM;AAACR,QAAAA,MAAM,EAAE,MAAT;AAAiBU,QAAAA,IAAI,EAAE8B,KAAvB;AAA8B7B,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB;AAAvC,OAAN,CAA7B;;AACA,UAAGR,QAAQ,CAACS,EAAZ,EAAe;AACb,cAAMC,GAAG,GAAE,MAAMV,QAAQ,CAACiB,IAAT,EAAjB;AACA1D,QAAAA,YAAY,CAACmD,GAAD,CAAZ;AACD;AAAC,KALJ;;AAMA4B,IAAAA,MAAM;AACNvE,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACPG,MAAAA,UAAU,EAAC,EADJ;AAEPC,MAAAA,QAAQ,EAAE,EAFH;AAGPC,MAAAA,SAAS,EAAE,SAHJ;AAIPC,MAAAA,SAAS,EAAE,CAJJ;AAKPC,MAAAA,SAAS,EAAC,SALH;AAMPC,MAAAA,QAAQ,EAAC,CANF;AAOPC,MAAAA,SAAS,EAAC,mBAPH;AAQPc,MAAAA,SAAS,EAAC;AARH,KAAD,CAAR;AAUC,GA7CD;;AA+CF,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,4BAEA,QAAC,GAAD;AAAA,8BACU,QAAC,SAAD;AAAA,kBACI/B,SAAS,gBAAG,QAAC,WAAD;AAAa,UAAA,OAAO,EAAEA,SAAtB;AAAiC,UAAA,MAAM,EAAEsD;AAAzC;AAAA;AAAA;AAAA;AAAA,gBAAH,GAA+D;AAD5E;AAAA;AAAA;AAAA;AAAA,cADV,eAWQ;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,iCAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhC;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAOE,QAAC,aAAD;AAAe,UAAA,MAAM,EAAEA,aAAvB;AAAsC,UAAA,KAAK,EAAE9C,KAAK,CAACE;AAAnD;AAAA;AAAA;AAAA;AAAA,gBAPF,eASE,QAAC,WAAD;AAAa,UAAA,MAAM,EAAEF,KAAK,CAACN,MAA3B;AAAmC,UAAA,MAAM,EAAEoD;AAA3C;AAAA;AAAA;AAAA;AAAA,gBATF,eAUE,QAAC,cAAD;AAAgB,UAAA,MAAM,EAAGrB;AAAzB;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,cAXR;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,eA6BM,QAAC,kBAAD;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADE,eAEF,QAAC,iBAAD;AAAoB,UAAA,GAAG,EAAEzB,KAAK,CAACY,aAA/B;AAA6C,UAAA,MAAM,EAAEkC;AAArD;AAAA;AAAA;AAAA;AAAA,gBAFE,eAGF,QAAC,gBAAD;AAAmB,UAAA,GAAG,EAAE9C,KAAK,CAACa,YAA9B;AAA2C,UAAA,MAAM,EAAEiC;AAAnD;AAAA;AAAA;AAAA;AAAA,gBAHE,eAIF,QAAC,sBAAD;AAAA,kCACA,QAAC,mBAAD;AAAsB,YAAA,MAAM,EAAEA,aAA9B;AAA4C,YAAA,KAAK,EAAE9C,KAAK,CAACU,aAAzD;AAAuE,YAAA,QAAQ,EAAEV,KAAK,CAACoB;AAAvF;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA,QAAC,mBAAD;AAAqB,YAAA,MAAM,EAAE0B,aAA7B;AAA2C,YAAA,KAAK,EAAE9C,KAAK,CAACW,aAAxD;AAAsE,YAAA,QAAQ,EAAEX,KAAK,CAACsB;AAAtF;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJE,eAQF,QAAC,iBAAD;AAAoB,UAAA,MAAM,EAAEwB,aAA5B;AAA0C,UAAA,KAAK,EAAE9C,KAAK,CAACW,aAAvD;AAAqE,UAAA,GAAG,EAAEX,KAAK,CAACc,aAAhF;AAA+F,UAAA,QAAQ,EAAEd,KAAK,CAACkB;AAA/G;AAAA;AAAA;AAAA;AAAA,gBARE;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAYE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEI,QAAC,aAAD;AAAA,iCACJ,QAAC,UAAD;AAAkB,YAAA,MAAM,EAAE4B,aAA1B;AAAyC,YAAA,OAAO,EAAEsB,YAAlD;AAA+D,YAAA,OAAO,EAAEP,eAAxE;AAAwF,YAAA,IAAI,EAAE7D,KAAK,CAACuB;AAApG;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAKE,QAAC,eAAD;AAAA,kCACF,QAAC,eAAD;AAAkB,YAAA,MAAM,EAAEuB,aAA1B;AAAwC,YAAA,KAAK,EAAE9C,KAAK,CAACG;AAArD;AAAA;AAAA;AAAA;AAAA,kBADE,eAEF,QAAC,aAAD;AAAkB,YAAA,MAAM,EAAE2C,aAA1B;AAAwC,YAAA,KAAK,EAAE9C,KAAK,CAACI;AAArD;AAAA;AAAA;AAAA;AAAA,kBAFE,eAGF,QAAC,aAAD;AAAkB,YAAA,MAAM,EAAE0C,aAA1B;AAAwC,YAAA,GAAG,EAAE9C,KAAK,CAACM;AAAnD;AAAA;AAAA;AAAA;AAAA,kBAHE,eAKF,QAAC,YAAD;AAAkB,YAAA,MAAM,EAAEwC,aAA1B;AAAwC,YAAA,GAAG,EAAE9C,KAAK,CAACQ;AAAnD;AAAA;AAAA;AAAA;AAAA,kBALE,eAMA,QAAC,kBAAD;AAAA,oCAEF,QAAC,eAAD;AAAkB,cAAA,MAAM,EAAEsC,aAA1B;AAAwC,cAAA,KAAK,EAAE9C,KAAK,CAACK,SAArD;AAA+D,cAAA,QAAQ,EAAEL,KAAK,CAACmB;AAA/E;AAAA;AAAA;AAAA;AAAA,oBAFE,eAGF,QAAC,eAAD;AAAkB,cAAA,MAAM,EAAE2B,aAA1B;AAAwC,cAAA,KAAK,EAAE9C,KAAK,CAACO,SAArD;AAA+D,cAAA,QAAQ,EAAEP,KAAK,CAACqB;AAA/E;AAAA;AAAA;AAAA;AAAA,oBAHE;AAAA;AAAA;AAAA;AAAA;AAAA,kBANA,eAaF,QAAC,aAAD;AAAkB,YAAA,MAAM,EAAEyB,aAA1B;AAAwC,YAAA,KAAK,EAAE9C,KAAK,CAACO,SAArD;AAA+D,YAAA,GAAG,EAAEP,KAAK,CAACS,SAA1E;AAAqF,YAAA,QAAQ,EAAET,KAAK,CAACiB;AAArG;AAAA;AAAA;AAAA;AAAA,kBAbE;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA;AAAA;AAAA;AAAA;AAAA,YA7BN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmED,CAndM;;GAAM1B,I;;MAAAA,I","sourcesContent":["import React, { Component, useState, useContext, useEffect } from \"react\";\nimport ReactGridLayout, { WidthProvider } from \"react-grid-layout\";\nimport \"./styles.css\";\nimport { FileButtons } from \"components/FileButtons\";\nimport { ExportButton } from \"../FileButtons/ExportButton.js\";\nimport { DownloadButton } from \"../FileButtons/DownloadButton.js\";\nimport { EditorTable } from \"components/Table\"\nimport { EditButton } from \"../Edit/EditButton.js\"\nimport { TeamNameField } from \"../TeamName/TeamNameField.js\"\nimport { EditorNameField } from \"../NameFields/EditorNameField.js\"\nimport { UserNameField } from \"../NameFields/UserNameField.js\"\nimport { LineWidthSpin} from \"../Spinners/LineWidthSpin.js\"\nimport { UnUpLineWidthSpin} from \"../Spinners/UnUpLineWidthSpin.js\"\nimport { NodeSizeSpin} from \"../Spinners/NodeSizeSpin.js\"\nimport { UnUpNodeSizeSpin} from \"../Spinners/UnUpNodeSizeSpin.js\"\nimport { LineColorPicker } from \"../ColorPickers/LineColorPicker.js\"\nimport { UnUpLineColorPicker } from \"../ColorPickers/UnUpLineColorPicker.js\"\nimport { NodeColorPicker } from \"../ColorPickers/NodeColorPicker.js\"\nimport { UnUpNodeColorPicker } from \"../ColorPickers/UnUpNodeColorPicker.js\"\nimport { NodeShapeMenu } from \"../ShapeMenu/NodeShapeMenu.js\"\nimport { UnUpNodeShapeMenu } from \"../ShapeMenu/UnUpNodeShapeMenu.js\"\nimport { RemoveButtons } from \"../TableButtons/RemoveButtons.js\"\nimport { MoveButtons } from \"../TableButtons/MoveButtons.js\"\nimport { render } from \"@testing-library/react\";\nimport { DataContext } from \"../../common/DataContext\";\nimport { saveAs } from 'file-saver'\nimport { GEM, MobileLineandNodeWrapper,MobileFileButtonsWrapper, EverythingbutTable ,MobileTeamTableWrapper, MobileTeamTableBtns,MobileViewWrapper ,AddUpdateEditor, FileButtonsWrapper, UpExDown, UnUpLineandNodeWrapper, LineandNodeWrapper, TeamTable, UnUploadedEditor, TeamTableBtns, AddUpdateBtns  } from \"./styles.js\";\nimport {BrowserView, MobileView, isBrowser, isMobile} from 'react-device-detect';\n\n\n\n\nvar inEditName, inUserName, inLineWidth, inNodeSize, inLineWidth, inNodeSize, inLineColor, inNodeColor, inNodeShape;\n\nconst GridLayout = WidthProvider(ReactGridLayout);\n\nexport const Grid = () => {\n  const { tableData, \n  setTableData,\n  fileID,\n  generateGemJsonId,\n  selectedRow,\n  setSelectedRow,\n  EditorRow,\n  setEditorRow,\n  } = useContext(DataContext);\n\n  const [state, setState] = useState({\n    tableData:tableData,\n    TeamName:\"\",\n    EditorName:\"\",\n    UserName:\"\",\n    LineColor: '#A9A9A9',\n    LineWidth: 5,\n    NodeColor:\"#D3D3D3\",\n    NodeSize:5,\n    NodeShape:'/icons/circle.png',\n    UnUpLineColor: 'green',\n    UnUpNodeColor: 'orange',\n    UnUpLineWidth:5,\n    UnUpNodeSize:5,\n    UnUpNodeShape:'/icons/square.png',\n    FileIndex: fileID,\n    RowData:{},\n    ShowShapeMenu:false,\n    ShowUnUpShapeMenu:false,\n    ShowLineColorMenu:false,\n    ShowUnUpLineColorMenu:false,\n    ShowNodeColorMenu:false,\n    ShowUnUpNodeColorMenu:false,\n    addEditor:true,\n    newFile:true,\n\n  });\n\n  useEffect((fileID) => {\n    if (fileID == null) {\n      generateGemJsonId();\n    }\n  }, [])\n\n    const GetUnUpload=() =>{\n      if (state.TeamName ===\"\" && tableData[0].NAME !=null){\n        alert(\"Please enter a valid team name before exporting\")\n        return\n      }\n      if (tableData[0].NAME ===null){\n        alert(\"No Data to export. You must either import an existing .mapscc file to edit, or populate the table with editor data in order to export.\")\n        return\n      }\n      let path = '/api/uploads/' + state.TeamName + \".mapcss\";\n      const Downrequest = async () => {\n        return fetch(path, {method: \"GET\",responseType: 'blob'})\n        .then(response=>response.blob())\n        .then(blob => saveAs(blob, state.TeamName + \".mapcss\"))\n      }\n      let outJson= [{\"TeamName\":state.TeamName,\"LineColor\":state.UnUpLineColor,\"lineWidth\":state.UnUpLineWidth,\"NodeSize\":state.UnUpNodeSize,\"NodeColor\":state.UnUpNodeColor,\"NodeShape\":state.UnUpNodeShape}]\n      outJson= JSON.stringify(outJson)\n      let url ='/api/compile?fileID='+fileID\n      const goEx = async () => {\n        const response =  await fetch(url, {method: \"POST\", body: outJson ,headers: {'Content-Type': 'application/json'}})\n        if(response.ok){\n          const obj= await response.text()\n          return fetch(path, {method: \"GET\",responseType: 'blob'})\n          .then(response=>response.blob())\n          .then(blob => saveAs(blob, state.TeamName + \".mapcss\"))\n        }}\n        goEx();\n    }\n\n    const changeFeature=(e,f) =>{\n    let outJson = state.RowData\n    switch(f){\n      case \"LineColor\":\n        setState({...state,LineColor:e});\n        break;\n\n      case \"NodeColor\":\n        setState({...state,NodeColor:e});\n        break;  \n\n      case \"UnUpLineColor\":\n        setState({...state,UnUpLineColor:e});\n        break;  \n\n      case \"UnUpNodeColor\":\n        setState({...state,UnUpNodeColor:e});\n        break;  \n\n      case \"NodeShape\":\n        setState({...state,NodeShape:e,ShowShapeMenu:false})\n        break;  \n\n      case \"UnUpNodeShape\":\n        setState({...state,UnUpNodeShape:e,ShowUnUpShapeMenu:false})\n        \n        break; \n\n      case \"+LineWidth\":\n        if (state.LineWidth !== 10){\n          setState({ ...state,LineWidth:state.LineWidth +1})}\n        break; \n\n      case \"-LineWidth\":\n        if (state.LineWidth !== 0){\n          setState({ ...state,LineWidth:state.LineWidth -1})}\n        break; \n\n      case \"+UnUpLineWidth\":\n        if (state.UnUpLineWidth !== 10){\n          setState({ ...state,UnUpLineWidth:state.UnUpLineWidth +1})}\n        break; \n\n      case \"-UnUpLineWidth\":\n        if (state.UnUpLineWidth !== 0){\n          setState({ ...state,UnUpLineWidth:state.UnUpLineWidth -1})}\n        break; \n\n      case \"+NodeSize\":\n        if (state.NodeSize !== 10){\n          setState({ ...state,NodeSize:state.NodeSize +1})}\n        break;\n\n      case \"-NodeSize\":\n        if (state.NodeSize !== 0){\n          setState({ ...state,NodeSize:state.NodeSize -1})}\n      break;\n\n      case \"+UnUpNodeSize\":\n         if (state.UnUpNodeSize !== 10){\n          setState({ ...state,UnUpNodeSize:state.UnUpNodeSize +1})}\n      break; \n\n      case \"-UnUpNodeSize\":\n         if (state.UnUpNodeSize !== 0){\n          setState({ ...state,UnUpNodeSize:state.UnUpNodeSize -1})}\n      break; \n\n      case \"TeamName\":\n         if (state.UnUpNodeSize !== 0){\n          setState({ ...state,TeamName:e})}\n      break; \n\n      case \"EditorName\":\n        setState({ ...state,EditorName:e})\n      break; \n\n      case \"UserName\":\n        setState({ ...state,UserName:e})\n      break; \n\n      case \"ShowShapeMenu\":\n        setState({ ...state,ShowShapeMenu:e})\n      break; \n\n      case \"ShowUnUpShapeMenu\":\n        setState({ ...state,ShowUnUpShapeMenu:e})\n      break; \n\n      case \"ShowLineColorMenu\":\n        setState({ ...state,ShowLineColorMenu:e})\n      break; \n\n      case \"ShowUnUpLineColorMenu\":\n        setState({ ...state,ShowUnUpLineColorMenu:e})\n      break; \n\n      case \"ShowNodeColorMenu\":\n        setState({ ...state,ShowNodeColorMenu:e})\n      break; \n\n      case \"ShowUnUpNodeColorMenu\":\n        setState({ ...state,ShowUnUpNodeColorMenu:e})\n      break; \n\n      case \"GetRowData\":\n        setState({ ...state,RowData:e})\n      break; \n\n      case \"Download\":\n      break; \n\n      case \"UnUpData\":\n        setState({ ...state,\n        newFile:false,\n        TeamName:e[0][\"TEAMNAME\"],\n        UnUpNodeColor:e[0][\"UNUPNODECOLOR\"], \n        UnUpNodeSize:e[0][\"UNUPNODESIZE\"],\n        UnUpNodeShape:\"/icons/\"+e[0][\"UNUPNODESHAPE\"]+\".png\",  \n        UnUpLineColor:e[0][\"UNUPLINECOLOR\"],\n        UnUpLineWidth:e[0][\"UNUPLINEWIDTH\"],\n      })\n  \n      break; \n\n\n      case \"RemoveEditor\":\n          outJson=JSON.stringify(outJson)\n          const request = async () => {\n          const response =  await fetch('/api/table?sub=remove&fileID='+fileID, {method: \"POST\", body: outJson ,headers: {'Content-Type': 'application/json'}})\n          if(response.ok){\n            let object = await response.json()\n            object=JSON.stringify(object)\n            object=JSON.parse(object)\n            setTableData(object)\n          }}\n          request();\n      break; \n\n      case \"RemoveAll\":\n        const removeRequest = async () => {\n        const response =  await fetch('/api/removeAll?fileID='+fileID, {method: \"GET\"})\n        if(response.ok){\n          let object = await response.json()\n          object=JSON.stringify(object)\n          object=JSON.parse(object)\n          setTableData(object)\n        }}\n        removeRequest();\n        setState({...state,\n          newFile:true,\n          TeamName:\"\"\n        })\n      \n      break;\n\n      case \"MoveUp\":\n        outJson=JSON.stringify(outJson)\n        console.log(outJson)\n        const moveUpRequest = async () => {\n        const response =  await fetch('/api/table?sub=moveUp&fileID='+fileID,{method: \"POST\", body: outJson ,headers: {'Content-Type': 'application/json'}})\n        if(response.ok){\n          let object = await response.json()\n          object=JSON.stringify(object)\n          object=JSON.parse(object)\n          setTableData(object)\n        }}\n        moveUpRequest();\n        if (selectedRow != 0){\n          // setSelectedRow(selectedRow - 1);\n          }\n        console.log(selectedRow);\n      \n      break;\n\n      case \"MoveDown\":\n        outJson=JSON.stringify(outJson)\n        const moveDownRequest = async () => {\n        const response =  await fetch('/api/table?sub=moveDown&fileID='+fileID,{method: \"POST\", body: outJson ,headers: {'Content-Type': 'application/json'}})\n        if(response.ok){\n          let object = await response.json()\n          object=JSON.stringify(object)\n          object=JSON.parse(object)\n          setSelectedRow(selectedRow + 1)\n          setEditorRow(selectedRow +1)\n          setTableData(object)\n        }}\n        moveDownRequest();\n        outJson = JSON.stringify(\n          {\n            'rowId': selectedRow +1,\n            'editor': selectedRow +1\n          }\n          )\n          setState({ ...state,outJson})\n\n        setSelectedRow(selectedRow +1);\n\n      break;\n\n      case \"Clear\":\n        setState({...state,\n        EditorName: \"\",\n        UserName: \"\",\n        LineColor: '#A9A9A9',\n        LineWidth: 5,\n        NodeColor:\"#D3D3D3\",\n        NodeSize:5,\n        NodeShape:'/icons/circle.png'\n      })\n      break;\n      default:\n    }\n\n  }\n\n  function isEmpty(obj) {\n    for(var key in obj) {\n        if(obj.hasOwnProperty(key))\n            return false;\n    }\n    return true;\n}\n\n\n    const ChangeAddButton=()=>{\n      let outJson = state.RowData;\n      var checkJson;\n      console.log(state.RowData);\n      console.log(outJson);\n      if(Object.entries(outJson).length !== 0){\n        checkJson = JSON.parse(outJson)\n      }\n        if ( !checkJson){\n            alert(\"Invalid Selection\");\n        }\n        else\n        {\n      setState({ ...state,addEditor:false})\n     //\n    }\n  }\n\n  useEffect(() => {\n    if(state.addEditor !== true){\n      EditEditor();\n      // console.log(state)\n    }\n    // else if(!state.EditorName){\n      // EditEditor();\n    // }\n    \n\n  }, [state.addEditor]);\n\n    const EditEditor = () => {\n      let outJson = state.RowData\n      // console.log(state.RowData)\n      let checkJson= JSON.parse(outJson)\n      inEditName = checkJson['editor']['NAME']\n      console.log(inEditName)\n      inUserName = checkJson['editor']['UID']\n      inLineWidth = checkJson['editor']['LINEWIDTH']\n      inNodeSize = checkJson['editor']['NODESIZE']\n      inLineColor=checkJson['editor']['LINECOLOR']\n      inNodeColor=checkJson['editor']['NODECOLOR']\n      inNodeShape=checkJson['editor']['NODESHAPE']\n      setState({...state,\n        EditorName: inEditName,\n        UserName: inUserName,\n        LineWidth: parseInt(inLineWidth),\n        NodeSize: parseInt(inNodeSize),\n        LineColor: inLineColor,\n        NodeShape:inNodeShape,\n        NodeColor:inNodeColor,\n      })\n\n    }\n    \n    const updateEditor = (e) => {\n      let sub = e\n      if (state.EditorName === \"\" && e === \"add\"){\n        alert(\"Please enter a valid Name for the Editor\")\n        return;\n      }\n      if (state.UserName === \"\" && e === \"add\"){\n          alert(\"Please enter a valid OSM Username\")\n          return;\n\n      }\n      else if(state.EditorName === \"Mappy McMappington III\" && e ===\"update\"){\n        alert(\"You must first select an Editor from the table to update. \")\n        return;\n      }\n    \n    let outJson = state.RowData\n    var checkJson;\n    if(Object.entries(outJson).length !== 0){\n     checkJson = JSON.parse(outJson)\n    }\n    var index;\n    if (checkJson){\n      index = checkJson[\"rowId\"]\n    }\n    let entry = {'NAME':state.EditorName,\"UID\":state.UserName,'NODESHAPE':state.NodeShape,'NODECOLOR':state.NodeColor,\"NODESIZE\":state.NodeSize,'LINEWIDTH':state.LineWidth,\"LINECOLOR\":state.LineColor}\n    entry=JSON.stringify(entry)\n    let url ='/api/update?sub='+sub+'&index='+index+'&infile='+fileID+\"&newFile=\"+state.newFile\n    const update = async () => {\n      const response =  await fetch(url, {method: \"POST\", body: entry ,headers: {'Content-Type': 'application/json'}})\n      if(response.ok){\n        const obj= await response.json()\n        setTableData(obj)\n      }}\n    update();\n    setState({...state,\n      EditorName:\"\",\n      UserName: \"\",\n      LineColor: '#A9A9A9',\n      LineWidth: 5,\n      NodeColor:\"#D3D3D3\",\n      NodeSize:5,\n      NodeShape:'/icons/circle.png',\n      addEditor:true\n      })\n    } \n\n  return (\n    <div className=\"Gem-div\" >\n      {/* <BrowserView> */}\n    <GEM>\n              <TeamTable>\n                { tableData ? <EditorTable useData={tableData} action={changeFeature}/> : null}\n\n            </TeamTable>\n            {/* <TeamTableBtns>\n                <RemoveButtons action={changeFeature}/>\n                <MoveButtons action={changeFeature}/>\n            </TeamTableBtns> */}\n\n\n            <div >\n              <div className='importLabelDiv'><label  >Import/Export:</label></div>\n              \n              <br></br>\n              <br></br>\n              <label>Team Name:</label> \n              \n              <TeamNameField action={changeFeature} value={state.TeamName}/>\n\n              <FileButtons fileID={state.fileID} action={changeFeature} />\n              <DownloadButton action={ GetUnUpload }/>\n\n            </div>\n\n            \n    </GEM>\n          <EverythingbutTable>\n              <div className=\"MenuLabel\">\n            <label>Non-uploaded edits:</label> \n            <UnUpLineWidthSpin  num={state.UnUpLineWidth}action={changeFeature}/>\n            <UnUpNodeSizeSpin  num={state.UnUpNodeSize}action={changeFeature}/>\n            <UnUpLineandNodeWrapper>\n            <UnUpLineColorPicker  action={changeFeature}color={state.UnUpLineColor}showMenu={state.ShowUnUpLineColorMenu}/>\n            <UnUpNodeColorPicker action={changeFeature}color={state.UnUpNodeColor}showMenu={state.ShowUnUpNodeColorMenu}/>\n            </UnUpLineandNodeWrapper>\n            <UnUpNodeShapeMenu  action={changeFeature}color={state.UnUpNodeColor}src={state.UnUpNodeShape} ShowMenu={state.ShowUnUpShapeMenu}/>\n            </div>\n           \n            <div className=\"MenuLabel\">\n            <label >Add/Update Editor:</label> \n                <AddUpdateBtns>\n            <EditButton       action={changeFeature} action2={updateEditor}action3={ChangeAddButton}bool={state.addEditor}/>\n            </AddUpdateBtns>\n              <AddUpdateEditor>\n            <EditorNameField  action={changeFeature}value={state.EditorName}/>\n            <UserNameField    action={changeFeature}value={state.UserName}/>\n            <LineWidthSpin    action={changeFeature}num={state.LineWidth}/>\n\n            <NodeSizeSpin     action={changeFeature}num={state.NodeSize}/>\n              <LineandNodeWrapper>\n\n            <LineColorPicker  action={changeFeature}color={state.LineColor}showMenu={state.ShowLineColorMenu}/>\n            <NodeColorPicker  action={changeFeature}color={state.NodeColor}showMenu={state.ShowNodeColorMenu}/>\n\n            </LineandNodeWrapper>\n\n            <NodeShapeMenu    action={changeFeature}color={state.NodeColor}src={state.NodeShape} ShowMenu={state.ShowShapeMenu}/>\n            </AddUpdateEditor>\n            </div>\n            </EverythingbutTable>\n         \n      </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}